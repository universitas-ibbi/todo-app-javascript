<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" 
        rel="stylesheet" 
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" 
        crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="mx-auto col-md-7">
            <div class="card border-primary mt-4">
                <div class="card-header bg-primary text-white">
                    Todo List
                </div>
                <div class="card-body">
                    <form action="">
                        <div class="form-group row">
                            <div class="col-md-10">
                                <input type="text" class="form-control" placeholder="Input Todo" id="txtInput">
                            </div>
                            <div class="col-md-2 d-grid">
                                <button class="btn btn-success" id="btnAdd">Add</button>
                            </div>
                        </div>
                    </form>
                    <table class="mt-2 table">
                        <tbody id="todo-list">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <script>
        let todos = [];

        function addTodo(){
            const txtInput = document.getElementById("txtInput");
            todos.push({
                id: +new Date(),
                title: txtInput.value,
                status: false
            });
            txtInput.value = "";

            renderTodoList();
            console.table(todos);
        }

        function deleteTodo(id){
            const index = todos.findIndex(todo => todo.id === id);
            todos.splice(index,1);
            renderTodoList();
        }

        function updateTodoStatus(id){
            const index = todos.findIndex(todo => todo.id === id);
            todos[index].status = !todos[index].status;
            renderTodoList();
        }

        function renderTodoList(){
            const todoList = document.getElementById("todo-list");
            todoList.innerHTML = "";
            for (const todo of todos) {
                todoList.innerHTML += `<tr>
                            <td width="10%">
                                <input type="checkbox" 
                                ${todo.status === true?"checked":""}
                                class="form-check-input" 
                                onclick="updateTodoStatus(${todo.id})"></td>
                            <td class="${todo.status === true?"text-decoration-line-through":""}">${todo.title}</td>
                            <td width="10%"><button ${todo.status===false?"disabled":""} class="btn btn-danger" onclick="deleteTodo(${todo.id})">Delete</button></td>
                        </tr>`;
            }
        }

        document.getElementById("btnAdd")
            .addEventListener("click",function(event){
                event.preventDefault();
                addTodo();
        });
    </script>
</body>
</html>